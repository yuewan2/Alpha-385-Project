---
title: "Per Team Stats"
author: "Theodore Andrew"
date: "12/10/2017"
output: html_document
---

```{r}
#To group the table based on team names and summarise it based on the selected variable
per_teams_stat = merged_stat_team %>% group_by(Team, Tm) %>% summarise(PTS = round(mean(PTS), digits = 1), AST = round(mean(AST), digits = 1), TRB = round(mean(TRB), digits = 1), BLK = round(mean(BLK), digits = 1), STL = round(mean(STL), digits = 1), TOV = round(mean(TOV), digits = 1), PER = round(mean(PER), digits = 1))
colnames(per_teams_stat)[2] = "Team_Abbr"

#----------------------------------------------------------------------------------------------
#To append win ratio column into the grouped table
nba_teams_2 = read.csv("2016-2017_Team_Data.csv")
nba_teams_2 = select(nba_teams_2, TEAM, WIN.)
colnames(nba_teams_2)[1] = "Team"

per_teams_stat = dplyr::full_join(nba_teams_2, per_teams_stat, by = "Team")
colnames(per_teams_stat)[2] = "Win_Ratio"
per_teams_stat = per_teams_stat[c("Team", "Team_Abbr", "Win_Ratio", "PTS", "AST", "TRB", "BLK", "STL", "TOV", "PER")]
per_teams_stat = per_teams_stat[order(per_teams_stat$Team, decreasing = F),]

View(per_teams_stat)
write.csv(per_teams_stat, file = "Team_Stats_2016_2017.csv")
```


